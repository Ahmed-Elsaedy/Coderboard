@page
@model Coderboard.Web.Pages.DrawModel
@{

}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Excalidraw Embedded</title>

    <!-- Required dependencies -->
    <script src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@@excalidraw/excalidraw@0.16.2/dist/excalidraw.production.min.js"></script>

    <!-- Excalidraw styles -->
    <link href="https://unpkg.com/@@excalidraw/excalidraw@0.16.2/dist/excalidraw.min.css" rel="stylesheet">

    <style>
        #excalidraw {
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>
    <div id="excalidraw"></div>

    <script>
        const initialData = {
          elements: [
            // Red rectangle
            {
              type: "rectangle",
              x: 100,
              y: 100,
              width: 200,
              height: 150,
              angle: 0,
              strokeColor: "#ff0000",
              backgroundColor: "transparent",
              fillStyle: "hachure",
              strokeWidth: 2,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
              groupIds: [],
            },
            // Blue ellipse
            {
              type: "ellipse",
              x: 300,
              y: 100,
              width: 180,
              height: 120,
              strokeColor: "#0000ff",
              backgroundColor: "#ffff00",
              fillStyle: "solid",
              strokeWidth: 3,
              strokeStyle: "solid",
              roughness: 1,
              opacity: 100,
            },
            // Text element
            {
              type: "text",
              x: 100,
              y: 400,
              width: 200,
              height: 50,
              fontSize: 20,
              text: "Hello Excalidraw!",
              baseline: 50,
              textAlign: "left",
              fontFamily: 1,
              strokeColor: "#000000",
            },
            // Line element
            {
              type: "line",
              x: 100,
              y: 300,
              width: 200,
              height: 50,
              points: [
                [0, 0],
                [200, 50],
              ],
              strokeColor: "#00ff00",
              strokeWidth: 4,
              strokeStyle: "solid",
              roughness: 1,
            }
          ],
        };
    </script>

    <script>
        // Initialize Excalidraw
        const { Excalidraw } = ExcalidrawLib;

        const excalidrawWrapper = document.getElementById("excalidraw");
        ReactDOM.createRoot(excalidrawWrapper).render(
            React.createElement(Excalidraw, {
                initialData: initialData,
                onChange: (elements, appState, files) => {
                    console.log("Drawing changed:", elements);
                },
                theme: "light"
            })
        );
    </script>
</body>
</html>